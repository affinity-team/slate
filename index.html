<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Affinity API Reference</title>
    <link href="images/favicon.png" rel="icon" type="image/png" />

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Affinity API! This API provides a RESTful interface for performing
operations on the different objects that make up Affinity. If you are trying to
accomplish an action through this API and are not sure on what endpoints to use, or
if you have ideas on more endpoints we could create to make your workflow easier,
please do not hesitate to contact us at <code class="prettyprint">support@affinity.co</code>.</p>

<h1 id="overview">Overview</h1>

<h2 id="authentication">Authentication</h2>

<blockquote>
<p>Authentication using HTTP basic auth.</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/api_endpoint"</span> -u :&lt;API-KEY&gt;
</code></pre>
<p>To use the API, you will need to generate an API secret key. This can be done easily through
the Settings Panel that is accessible through the left sidebar on the Affinity web app.</p>

<p>Requests are authenticated using <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Auth</a>.
Provide your API key as the basic auth password. You do not need to provide a username.</p>

<p>Currently, we support one key per user on your team. Once you have generated a key, you
will need to pass in the key with every API request for us to process it successfully.
Otherwise, an error with a code of <code class="prettyprint">401</code> will be returned.</p>

<h2 id="requests-responses">Requests &amp; Responses</h2>

<p>This is a full-featured RESTful API. We provide reading &amp; writing functionality for each
object type in Affinity. All requests use the base URL of <code class="prettyprint">https://api.affinity.co/</code>.</p>

<p>Responses to each request are provided as a JSON object. The response is either the data
requested, or a valid error message and error code as outlined below.</p>

<p>Here is a list of all the error codes the Affinity API returns in case something does not go as expected:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is invalid.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Requested resource does not exist.</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity &ndash; Malformed parameters supplied. This can also happen in cases the parameters supplied logically cannot complete the request. In this case, an appropriate error message is delivered.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You have exceed the rate limit.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; This shouldn&rsquo;t generally happen. Either a deploy is in process, or Affinity services are down.</td>
</tr>
</tbody></table>

<p><strong>Note:</strong> Requests must be sent over HTTPS. Requests sent over HTTP will not return any
data in order to ensure your sensitive information remains secure.</p>

<h2 id="rate-limiting">Rate Limiting</h2>

<p>Each API key is limited to 40K requests per day. Once you hit the quota, all further requests will return an error code of
429 - this will reset as soon as the next day begins.</p>

          <h1 id="data-model">Data Model</h1>

<p>The three top-level objects in Affinity are Persons, Organizations, and Opportunities, and
everything in the product is centered around these three resources. We refer to a data
model that is a person, organization, or opportunity as an Entity.</p>

<p>The data stored in Affinity can be easily understood as a spreadsheet, with many rows,
columns and cells. For each part of a spreadsheet, there are directly equivalent
data models in Affinity.</p>

<p>The List in Affinity represents the spreadsheet itself. A List is a collection of many
rows, and the Affinity equivalent of a row is a List Entry. Each column in a spreadsheet
is represented by a &ldquo;Field&rdquo; in Affinity, and the value in each cell is represented by a
&ldquo;Field Value&rdquo;.</p>

          <h1 id="fields">Fields</h1>

<p>As discussed in the previous section, fields as a data model represent the
&ldquo;columns&rdquo; in a spreadsheet. A field can be specific to a given list, or it
can be global. List-specific fields appear as a column whenever that
list is being viewed while global fields are displayed on all lists.</p>

<p>Let us consider two examples:</p>

<ol>
<li><p>Assume you have a list called &ldquo;Top Referrers&rdquo;, and a new list-specific field (column)
called &ldquo;Number of Referrals&rdquo; is added to this list. In this case,
the &ldquo;Number of Referrals&rdquo; column will only be visible on the &ldquo;Top Referrers&rdquo; list.</p></li>
<li><p>Now assume you have three lists of people, &ldquo;Top Referrers&rdquo;, &ldquo;Friends in Media&rdquo;,
&ldquo;BD Leads&rdquo;, and a person X exists on all three lists. If you want to track where all the
people in these 3 lists live, you might have a field called &ldquo;Location&rdquo;.
It makes sense to make this field global - in which case it will be shared
across all three lists. Hence, if person X is a top referrer and lives in San
Francisco, CA, that information will automatically appear on the &ldquo;Friends in Media&rdquo;
list as well.</p></li>
</ol>

<p>By default, Affinity provides all teams with a few default global fields:
For people, the global fields include Location, Job Titles, and Industries.
For organizations, the global fields include Stage, Industry, Location, and
more.</p>

<h2 id="the-field-resource">The field resource</h2>

<p>Each field object has a unique <code class="prettyprint">id</code>. It also has a <code class="prettyprint">name</code>, which determines the name of the field,
and <code class="prettyprint">allows_multiple</code>, which determines whether multiple values can be added to a single cell for that field.</p>

<p>Affinity is extremely flexible and customizable, and a lot of that power comes from our ability to support many different
value types for fields. Numbers, dates, and locations are all examples of value types, and you can search,
sort, or filter all of them.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the field object.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the field.</td>
</tr>
<tr>
<td>list_id</td>
<td>integer</td>
<td>The unique identifier of the list that the field object belongs to if it is specific to a list. This is <code class="prettyprint">null</code> if the field is global.</td>
</tr>
<tr>
<td>allows_multiple</td>
<td>boolean</td>
<td>This determines whether multiple values can be added to a single cell for the field.</td>
</tr>
<tr>
<td>dropdown_options</td>
<td>object[]</td>
<td>Affinity supports pre-entered dropdown options for fields of the &ldquo;Ranked Dropdown&rdquo; value_type. The array is empty unless there are valid dropdown options for the field of the &ldquo;Ranked Dropdown&rdquo; value type.</td>
</tr>
<tr>
<td>value_type</td>
<td>integer</td>
<td>This field describes what values can be associated with the field. This can be one of many values, as described in the table below.</td>
</tr>
</tbody></table>

<h3 id="field-value-types">Field Value Types</h3>

<p>All the Types listed below can be referred through looking at the Affinity web app as well.</p>

<p><strong>Note:</strong></p>

<p>The API currently only supports fetching field data for field value creation.
It does not support updating, deleting, or creating fields. Modifying or
creating an field must be done through the web product.</p>

<p>For accessing person global fields, see the <a href="#get-global-fields">Person Fields</a> endpoint.
For accessing organization global fields, see the <a href="#get-global-fields33">Organization Fields</a> endpoint.
For accessing list specific fields on a list, see the <a href="#get-a-specific-list">Specific List</a> endpoint.</p>

<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Person</td>
<td>This type enables you to add person objects as a value. Eg: External Source, Owner, Friends</td>
</tr>
<tr>
<td>1</td>
<td>Organization</td>
<td>This type enables you to add organization objects as a value. Eg: Place of work, Co-Investors</td>
</tr>
<tr>
<td>2</td>
<td>Dropdown</td>
<td>This type allows you to add a text option into a single cell. This is best used when you want to store information that is unique to a person or organization. Eg: Interests, Stage, Industry</td>
</tr>
<tr>
<td>3</td>
<td>Number</td>
<td>This type enables you to add number as a value. Eg: Deal Size, Check Size, Revenue</td>
</tr>
<tr>
<td>4</td>
<td>Date</td>
<td>This type enables you to add date as a value. Eg: Date of Event, Birthday</td>
</tr>
<tr>
<td>5</td>
<td>Location</td>
<td>This type enables you to add a smart Google Maps location as a value. Eg: Address</td>
</tr>
<tr>
<td>6</td>
<td>Text</td>
<td>This type enables you to add a long text block as a value. Eg: Summary</td>
</tr>
<tr>
<td>7</td>
<td>Ranked Dropdown</td>
<td>This type allows you to add values in a particular order as well as assign colors to them. This is the equivalent of a pick list. Eg: Status, Priority, Ranking</td>
</tr>
</tbody></table>

<h2 id="get-fields">Get fields</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/fields"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">with_modified_names</span><span class="o">=</span><span class="nb">true</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"[Deals] Amount"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_id"</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value_type"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"track_changes"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropdown_options"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">5678</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"[Events] Amount"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_id"</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value_type"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"track_changes"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropdown_options"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /fields</code></p>

<p>Returns all fields based on the parameters provided.</p>

<p>Pass the <code class="prettyprint">list_id</code> to only fetch fields that are specific to that list. Otherwise, all global and list specific fields will be returned.</p>

<p>Pass the <code class="prettyprint">value_type</code> to fetch fields of specific value types. Otherwise, all fields of any type will be returned.</p>

<p>Pass the <code class="prettyprint">with_modified_names</code> flag to return the fields such that the names have the list name prepended to them in the format <code class="prettyprint">[List Name] Field Name</code> (i.e. <code class="prettyprint">[Deals] Status</code>).</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>false</td>
<td>An unique identifier of the list whose fields are to be retrieved.</td>
</tr>
<tr>
<td>value_type</td>
<td>integer</td>
<td>false</td>
<td>The value type of the fields that are to be retrieved.</td>
</tr>
<tr>
<td>with_modified_names</td>
<td>boolean</td>
<td>false</td>
<td>When true, field names will return in the format <code class="prettyprint">[List Name] Field Name</code>.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An array of all the fields requested.</p>

<h2 id="delete-a-field">Delete a field</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/fields/1234"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -X <span class="s2">"DELETE"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">DELETE /fields/{id}</code></p>

<p>Deletes an field with the specified <code class="prettyprint">id</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the field that needs to be deleted.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p><code class="prettyprint">{success: true}</code>.</p>

          <h1 id="lists">Lists</h1>

<p>Lists are the primary data structure that you can interact with in Affinity. Each list
manages a collection of either people or organizations. We call people or organizations
&ldquo;entities&rdquo;.</p>

<p>A list in Affinity is easily represented as a spreadsheet. The rows of the spreadsheet
are the list entries, and each list entry corresponds to a single person in a list of
people, or organization in a list of organizations.</p>

<p>Lists in Affinity can also have any number of custom attributes. These attributes allow
you to fully customize your workflow and model the data for your use case. We call these
attributes &ldquo;fields&rdquo;, and each fields represents a column in the
spreadsheet representation.</p>

<p>As a simple example:
A list called &ldquo;Important People&rdquo; might have 25 people in it. Two of the columns in the
sheet could be &ldquo;Title&rdquo; and &ldquo;Industry&rdquo;.</p>

<p>This list would have 25 &ldquo;list entries&rdquo;. Each list entry would be associated with a single
person entity. Furthermore, the list would have two &ldquo;fields&rdquo; with the names
&ldquo;Title&rdquo; and &ldquo;Industry&rdquo;.</p>

<h2 id="the-list-resource">The list resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of People"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"public"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the list object.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>The type of the entities contained within the list. A list can contain people or organizations, but not both.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The title of the list that is displayed in Affinity.</td>
</tr>
<tr>
<td>public</td>
<td>boolean</td>
<td>If the list is publicly accessible to all users in your team, this is true. Otherwise, this is false.</td>
</tr>
<tr>
<td>owner_id</td>
<td>integer</td>
<td>The unique id of the internal person who created this list.</td>
</tr>
<tr>
<td>list_size</td>
<td>integer</td>
<td>The number of list entries contained within the list.</td>
</tr>
</tbody></table>

<h3 id="list-types">List types</h3>

<table><thead>
<tr>
<th>List Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person</td>
<td>0</td>
<td>Type specifying a list of people.</td>
</tr>
<tr>
<td>organization</td>
<td>1</td>
<td>Type specifying a list of organizations.</td>
</tr>
<tr>
<td>opportunity</td>
<td>8</td>
<td>Type specifying a list of opportunities.</td>
</tr>
</tbody></table>

<h2 id="get-all-lists">Get all lists</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Returns an array of all lists that you have access to.</span>
curl <span class="s2">"https://api.affinity.co/lists"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of People"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">383</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of Organizations"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /lists</code></p>

<p>Returns a collection of all the lists visible to you.</p>

<h3 id="parameters">Parameters</h3>

<p>None</p>

<h3 id="returns">Returns</h3>

<p>An array of all the list resources for lists visible to you. Each list resource in the
array includes the <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, and <code class="prettyprint">type</code> (refer to the
<a href="#the-list-resource">list resource</a> above for further help).</p>

<h2 id="get-a-specific-list">Get a specific list</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Returns the list with the specified `list_id`</span>
curl <span class="s2">"https://api.affinity.co/lists/450"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of People"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"public"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="w">
  </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1625</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Status"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">886</span><span class="p">,</span><span class="w">
          </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Interested"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1626</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owners"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /lists/{list_id}</code></p>

<p>Gets the details for a specific list given the existing list id.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the list object to be retrieved.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The details of the list resource corresponding to the list id specified in the path
parameter. These details include an array of the fields that are specific
to this list. An appropriate error is returned if an invalid list is supplied.</p>

          <h1 id="list-entries">List Entries</h1>

<h2 id="the-list-entry-resource">The list entry resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16367</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">287125</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@jdoe.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jdoe@jdoe.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"jdoe2@jdoe2.com"</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-16 16:34:03 -0800"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Each list comprises a number of entries. Each list entry has a creator, a list
that it belongs to, and the underlying entity it represents depending on the type of the
list (people or organizations).</p>

<p>Operations like adding and removing entities from a list can be accomplished using the
list entry abstraction.</p>

<p><strong>Note:</strong>
Although list entries correspond to rows in an Affinity spreadsheet, the values
associated with the entity are not stored inside the list entry resource. If you are
trying to update, create, or delete a value in one of the custom columns for this list
entry, please refer to the <a href="#field-values">Field Values</a> section. The list entry API
is only used for getting, adding, or removing entities from a list. It does not
handle updating individual cells in columns.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the list entry object.</td>
</tr>
<tr>
<td>list_id</td>
<td>integer</td>
<td>The unique identifier of the list on which the list entry resides.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>The unique identifier of the user who created the list entry. If you create a list entry through the API, the user corresponding to the API token will be the creator by default.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>The unique identifier of the entity corresponding to the list entry.</td>
</tr>
<tr>
<td>entity</td>
<td>object</td>
<td>Object containing entity-specific details like name, email address, domain etc. for the entity corresponding to <code class="prettyprint">entity_id</code>.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The time when the list entry was created.</td>
</tr>
</tbody></table>

<h2 id="get-all-list-entries">Get all list entries</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/lists/450/list-entries"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64608</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">287843</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">62034</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-04 10:44:31 -0700"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"team@affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"team@affinity.co"</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53510</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38596</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">241576</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-22 15:22:21 -0800"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@stanford.edu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jdoe@stanford.edu"</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Response with Pagingation</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64608</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">287843</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">62034</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-04 10:44:31 -0700"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"team@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"team@affinity.co"</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53510</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38596</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">241576</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-22 15:22:21 -0800"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@stanford.edu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"jdoe@stanford.edu"</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /lists/{list_id}/list-entries</code></p>

<p>If no page size is specified, fetches all the list entries in the list with the supplied
list id. If a page size is specified, fetches up to that number of list entries in the
list with the supplied list id.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the list whose list entries are to be retrieved.</td>
</tr>
<tr>
<td>page_size</td>
<td>integer</td>
<td>false</td>
<td>How many results to return per page. (Default is to return all results.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code class="prettyprint">next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>If the <code class="prettyprint">page_size</code> is not passed in as a parameter, an array of all the list entry
resources corresponding to the provided list will be returned.
If the <code class="prettyprint">page_size</code> is passed in as a parameter, an object with two fields: <code class="prettyprint">list_entries</code>
and <code class="prettyprint">next_page_token</code> are returned. <code class="prettyprint">list_entries</code> maps to an array of up to <code class="prettyprint">page_size</code>
list entries. <code class="prettyprint">next_page_token</code> includes a token to be sent along with the next request
as the <code class="prettyprint">page_token</code> parameter to fetch the next page of results.
Each list entry in the both cases includes all the attributes as specified in the
<a href="#the-list-entry-resource">list entry resource</a> section above.</p>

<h2 id="get-a-specific-list-entry">Get a specific list entry</h2>

<p><code class="prettyprint">GET /lists/{list_id}/list-entries/{list_entry_id}</code></p>

<p>Fetches a list entry with a specified id.</p>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/lists/450/list-entries/16367"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53510</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38596</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">241576</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-22 15:22:21 -0800"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@stanford.edu"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jdoe@stanford.edu"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the list that contains the specified <code class="prettyprint">list_entry_id</code>.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the list entry object to be retrieved.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The list entry object corresponding to the <code class="prettyprint">list_entry_id</code>.</p>

<h2 id="create-a-new-list-entry">Create a new list entry</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/lists/450/list-entries"</span> <span class="se">\</span>
   -u :&lt;API-KEY&gt; <span class="se">\</span>
   -d <span class="nv">entity_id</span><span class="o">=</span>38706
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53510</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38596</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">241576</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-22 15:22:21 -0800"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@stanford.edu"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jdoe@stanford.edu"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">POST /lists/{list_id}/list-entries</code></p>

<p>Creates a new list entry in the list with the supplied list id.</p>

<p><strong>Note:</strong> A list can contain the same entity multiple times. Depending on your use case, before you add an entry,
you might want to make sure that it does not exist in the list already.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the list whose list entries are to be retrieved.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the entity (person, organization, or opportunity) to add to this list.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>false</td>
<td>The id of a Person resource who should be recorded as adding the entry to the list. Must be a person who can access Affinity. If not provided the creator defaults to the owner of the API key.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The list entry resource that was just created through this request.</p>

<h2 id="delete-a-specific-list-entry">Delete a specific list entry</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/lists/450/list-entries/56517"</span> <span class="se">\</span>
   -u :&lt;API-KEY&gt; <span class="se">\</span>
   -d <span class="nv">entity_id</span><span class="o">=</span>38706 <span class="se">\</span>
   -X <span class="s2">"DELETE"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">DELETE /lists/{list_id}/list-entries/{list_entry_id}</code></p>

<p>Deletes a list entry with a specified <code class="prettyprint">list_entry_id</code>.</p>

<p><strong>Note:</strong></p>

<ol>
<li> This will also delete all the field values, if any, associated with the list entry.
Such field values will only exist in fields specific to this list.</li>
<li> If the list entry belongs to an Opportunity list, then the opportunity that the list
entry is associated with will also be deleted.</li>
</ol>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the list that contains the specified <code class="prettyprint">list_entry_id</code>.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the list entry object to be deleted.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The JSON object <code class="prettyprint">{&quot;success&quot;: true}</code>.</p>

          <h1 id="persons">Persons</h1>

<p>The persons API allows you to manage all the contacts of your organization. These people
include anyone your team has ever been in email communications or meetings with, and all
the people that your team has added to Affinity either manually or through the API.
Affinity&rsquo;s data model also guarantees that only one person in your team&rsquo;s shared contact
list has a given email address.</p>

<p><strong>Note:</strong></p>

<ol>
<li> If you are looking to add or remove a person from a list, please check out the
<a href="#list-entries">List Entries</a> section of the API.</li>
<li> If you are looking to modify a person&rsquo;s field values (one of the cells on Affinity&rsquo;s
spreadsheet), please check out the <a href="#field-values">Field Values</a> section of the API.</li>
</ol>

<h2 id="the-person-resource">The person resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jdoe@alumni.stanford.edu"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"johnjdoe@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">],</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">388</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"interaction_dates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_email_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-23T08:12:45.328-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_email_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_interaction_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-01-01T08:18:00.329-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"interactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-23T08:12:45.328-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"last_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"last_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"last_interaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">111</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"next_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">124</span><span class="p">,</span><span class="w">
        </span><span class="mi">125</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"first_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-01-01T08:18:00.329-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w">
</span></code></pre>
<p>Each person resource is assigned a unique <code class="prettyprint">id</code> and stores the name, type, and
email addresses of the person. A person resource also has access to a smart attribute
called <code class="prettyprint">primary_email</code>. The value of <code class="prettyprint">primary_email</code> is automatically computed by
Affinity&rsquo;s proprietary algorithms and refers to the email that is most likely to be the
current active email address of a person.</p>

<p>The person resource <code class="prettyprint">organization_ids</code> is a collection of unique identifiers to the
person&rsquo;s associated organizations. Note that a person can be associated with multiple
organizations. For example, say your team has talked with organizations A and B. Person X
used to work at A and was your point of contact, but then changed jobs and started emailing
you from a new email address (corresponding to organization B).
In this case, Affinity will automatically associate person X with both
organization A and organization B.</p>

<p>The person resource <code class="prettyprint">type</code> indicates whether a person is internal or
external to your team. Every internal person is a user of Affinity on your team, and all other
people are externals.</p>

<p>Dates of the most recent and upcoming interactions with a person are available in the
<code class="prettyprint">interaction_dates</code> field. This data is only included when passing
<code class="prettyprint">with_interaction_dates=true</code> as a query parameter to the <code class="prettyprint">/persons</code> or
the <code class="prettyprint">/persons/{person_id}</code> endpoints.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the person object.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>The type of person (see below).</td>
</tr>
<tr>
<td>first_name</td>
<td>string</td>
<td>The first name of the person.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>The last name of the person.</td>
</tr>
<tr>
<td>emails</td>
<td>string[]</td>
<td>The email addresses of the person.</td>
</tr>
<tr>
<td>primary_email</td>
<td>string</td>
<td>The email (automatically computed) that is most likely to the current active email address of the person.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of organizations that the person is associated with.</td>
</tr>
<tr>
<td>list_entries</td>
<td>ListEntry[]</td>
<td>An array of list entry resources associated with the person, only returned as part of the <a href="#get-a-specific-person">Get a specific person</a> endpoint.</td>
</tr>
<tr>
<td>interaction_dates</td>
<td>object</td>
<td>An object with six string date fields representing the most recent and upcoming interactions with this person: <code class="prettyprint">first_email_date</code>, <code class="prettyprint">last_email_date</code>, <code class="prettyprint">last_event_date</code>, <code class="prettyprint">last_interacton_date</code>, <code class="prettyprint">first_event_date</code> and <code class="prettyprint">next_event_date</code>. Only returned when passing <code class="prettyprint">with_interaction_dates=true</code>.</td>
</tr>
<tr>
<td>interactions</td>
<td>object</td>
<td>An object with six fields nested underneath.  Each field corresponds to one of the six interactions, and includes nested fields for <code class="prettyprint">date</code> and <code class="prettyprint">person_ids</code> which indicates the internal people associated with that event.  Only returned when passing <code class="prettyprint">with_interaction_dates=true</code>.</td>
</tr>
</tbody></table>

<h3 id="person-types">Person types</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>external</td>
<td>0</td>
<td>Default value. All people that your team has spoken with externally have this type.</td>
</tr>
<tr>
<td>internal</td>
<td>1</td>
<td>All people on your team that have Affinity accounts will have this type.</td>
</tr>
</tbody></table>

<h2 id="search-for-persons">Search for persons</h2>

<p><code class="prettyprint">GET /persons</code></p>

<p>Searches your teams data and fetches all the persons that meet the search criteria.
The search term can be part of an email address, a first name or a last name.</p>

<p>This result is paginated. An initial request returns an object with two fields: <code class="prettyprint">persons</code>
and <code class="prettyprint">next_page_token</code>. <code class="prettyprint">persons</code> contains an array of person resources. The value of
<code class="prettyprint">next_page_token</code> should be sent as the query parameter <code class="prettyprint">page_token</code> in another request to
retrieve the next page of results. While paginating through results, each request must have
identical query parameters other than the changing <code class="prettyprint">page_token</code>. Otherwise, an <code class="prettyprint">Invalid page_token variable</code> error will be returned.</p>

<p>The absence of a <code class="prettyprint">next_page_token</code> indicates that all the records have been fetched,
though its presence does not necessarily indicate that there are <em>more</em> resources to be
fetched. The next page may be empty (but then <code class="prettyprint">next_page_token</code> would be <code class="prettyprint">null</code> to
confirm that there are no more resources).</p>

<p>Pass <code class="prettyprint">with_interaction_dates=true</code> as a query parameter to include dates of the most
recent and upcoming interactions with persons. When this parameter is included, persons
with no interactions will not be returned in the response.</p>

<p>You can filter by interaction dates by providing additional query parameters like
<code class="prettyprint">min_last_email_date</code> or <code class="prettyprint">max_next_event_date</code>. The value of these query parameters should
be ISO 8601 formatted date strings.</p>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons?term=doe"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"persons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"jdoe@alumni.stanford.edu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"johnjdoe@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">624289</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jane@gmail.com"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example pagination</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># To get the second page of results, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/persons?term=doe&amp;page_token=eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span> -u :&lt;API-KEY&gt;
</code></pre>
<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>term</td>
<td>string</td>
<td>true</td>
<td>A string used to search all the persons in your team&rsquo;s address book. This could be an email address, a first name or a last name.</td>
</tr>
<tr>
<td>with_interaction_dates</td>
<td>boolean</td>
<td>false</td>
<td>When true, interaction dates will be present on the returned resources. Only persons that have interactions will be returned.</td>
</tr>
<tr>
<td><code class="prettyprint">{min,max}_&lt;interaction&gt;_date</code></td>
<td>string</td>
<td>false</td>
<td>Only returns persons with the given interaction type above or below the given value. <code class="prettyprint">interaction</code> can be one of <code class="prettyprint">first_email</code>, <code class="prettyprint">last_email</code>, <code class="prettyprint">last_interaction</code>, <code class="prettyprint">last_event</code>, <code class="prettyprint">first_event</code>, or <code class="prettyprint">next_event</code>.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code class="prettyprint">next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An object with two fields: <code class="prettyprint">persons</code> and <code class="prettyprint">next_page_token</code>. <code class="prettyprint">persons</code> maps to an array of
all the person resources that match the search criteria. Does not include the associated
<code class="prettyprint">organization_ids</code> or <code class="prettyprint">list_entries</code>. <code class="prettyprint">next_page_token</code> includes a token to be sent along
with the next request as the <code class="prettyprint">page_token</code> parameter to fetch the next page of results.
When <code class="prettyprint">with_interaction_dates</code> is passed in the returned resources will have
<code class="prettyprint">interaction_dates</code> fields.</p>

<h2 id="get-a-specific-person">Get a specific person</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons/38706"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jdoe@alumni.stanford.edu"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">],</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">388</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /persons/{person_id}</code></p>

<p>Fetches a person with a specified <code class="prettyprint">person_id</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the person that needs to be retrieved.</td>
</tr>
<tr>
<td>with_interaction_dates</td>
<td>boolean</td>
<td>false</td>
<td>When true, interaction dates will be present on the returned resources.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The person resource corresponding to the <code class="prettyprint">person_id</code>.</p>

<h2 id="create-a-new-person">Create a new person</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">first_name</span><span class="o">=</span><span class="s2">"Alice"</span> <span class="se">\</span>
  -d <span class="nv">last_name</span><span class="o">=</span><span class="s2">"Doe"</span> <span class="se">\</span>
  -d emails[]<span class="o">=</span><span class="s2">"alice@affinity.co"</span> <span class="se">\</span>
  -d organization_ids[]<span class="o">=</span>1687449
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice@affinity.co"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">POST /persons</code></p>

<p>Creates a new person with the supplied parameters.</p>

<p><strong>Note:</strong></p>

<ol>
<li> If one of the supplied email addresses conflicts with another person object, this
request will fail and an appropriate error will be returned.</li>
<li> If you are looking to add an existing person to a list, please check the <a href="#list-entries">List Entries</a> section
of the API.</li>
</ol>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>true</td>
<td>The first name of the person.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>true</td>
<td>The last name of the person.</td>
</tr>
<tr>
<td>emails</td>
<td>string[]</td>
<td>true</td>
<td>The email addresses of the person. If there are no email addresses, please specify an empty array.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organizations that the person is associated with.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The person resource was newly created from this successful request.</p>

<h2 id="update-a-person">Update a person</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons/860197"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d emails[]<span class="o">=</span><span class="s2">"allison@example.com"</span> <span class="se">\</span>
  -d emails[]<span class="o">=</span><span class="s2">"allison@gmail.com"</span> <span class="se">\</span>
  -d <span class="nv">first_name</span><span class="o">=</span><span class="s2">"Allison"</span> <span class="se">\</span>
  -X <span class="s2">"PUT"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allison"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice@affinity.co"</span><span class="p">,</span><span class="w"> </span><span class="s2">"allison@example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"allison@gmail.com"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">PUT /persons/{person_id}</code></p>

<p>Updates an existing person with <code class="prettyprint">person_id</code> with the supplied parameters. Only attributes
that need to be changed must be passed in.</p>

<p><strong>Note:</strong></p>

<p>If you are looking to add an existing person to a list, please check the
<a href="#list-entries">List Entries</a> section of the API.</p>

<p>If you are trying to add a new email or organization to a person, the
existing values for <code class="prettyprint">emails</code> and <code class="prettyprint">organization_ids</code> must also be supplied as parameters.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the person that needs to be updated.</td>
</tr>
</tbody></table>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>false</td>
<td>The first name of the person.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>false</td>
<td>The last name of the person.</td>
</tr>
<tr>
<td>emails</td>
<td>string[]</td>
<td>false</td>
<td>The email addresses of the person. If there are no email addresses, please specify an empty array.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organizations that the person is associated with</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The person object that was just updated through this request.</p>

<h2 id="delete-a-person">Delete a person</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons/860197"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -X <span class="s2">"DELETE"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">DELETE /persons/{person_id}</code></p>

<p>Deletes a person with a specified <code class="prettyprint">person_id</code>.</p>

<p><strong>Note:</strong> This will also delete all the field values, if any, associated with the person.
Such field values exist linked to either global or list-specific fields.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the person that needs to be deleted.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p><code class="prettyprint">{success: true}</code>.</p>

<h2 id="get-global-fields">Get global fields</h2>

<p><code class="prettyprint">GET /persons/fields</code></p>

<p>Fetches an array of all the global fields that exist on people. If you aren&rsquo;t sure
about what fields are, please read the <a href="#fields">fields</a>
section first.</p>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons/fields"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">125</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Use Case"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropdown_options"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">198</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Referrers"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropdown_options"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1615</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Address"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value_type"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropdown_options"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h3 id="parameters">Parameters</h3>

<p>None.</p>

<h3 id="returns">Returns</h3>

<p>An array of the global fields that exist on people for your team.</p>

          <h1 id="relationship-strengths">Relationship Strengths</h1>

<p>Affinity calculates relationship strengths between internal and external people based on
previous interactions (emails, logged calls, calendar events).</p>

<p>A higher numeric value means that the relationship strength between the two people is
higher. Emails, calls, and meetings don&rsquo;t tell the whole story of a relationship, so treat
the strength as an estimate.</p>

<p>Relationship strengths are usually recalculated daily.</p>

<h2 id="the-relationship-strength-resource">The relationship strength resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
  </span><span class="s2">"strength"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The relationship strength resource specifies the two <a href="#persons">Persons</a> the relationship
strength is about, along with the actual value.</p>

<p>There may be at most one resource for
every (internal, external) pair. If an internal and external person have no previous
interactions, there may be no relationship strength resource for the pair.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>internal_id</td>
<td>integer</td>
<td>The internal person associated with this relationship strength.</td>
</tr>
<tr>
<td>external_id</td>
<td>integer</td>
<td>The external person associated with this relationship strength.</td>
</tr>
<tr>
<td>strength</td>
<td>float</td>
<td>The actual relationship strength. This is currently a number between 0 and 1, but may change in the future.</td>
</tr>
</tbody></table>

<h2 id="fetch-a-relationship-strength">Fetch a relationship strength</h2>

<p><code class="prettyprint">GET /relationship-strengths</code></p>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Returns an array relationship strengths matching the criteria.</span>
curl <span class="s2">"https://api.affinity.co/relationships-strengths?external_id=1234&amp;internal_id=2345"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"strength"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Returns an array relationship strengths matching the criteria.</span>
curl <span class="s2">"https://api.affinity.co/relationships-strengths?external_id=1234"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"strength"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"strength"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>internal_id</td>
<td>integer</td>
<td>false</td>
<td>The internal person associated with this relationship strength.</td>
</tr>
<tr>
<td>external_id</td>
<td>integer</td>
<td>true</td>
<td>The external person associated with this relationship strength.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An array of the relationship strengths matching the criteria.</p>

<p>If an <code class="prettyprint">internal_id</code> is given, returns the relationship strength between the given internal
and external person. The returned list will have a length of 1 or 0 (if no relationship
strength is available between the two people).</p>

<p>If no <code class="prettyprint">internal_id</code> is given, returns the relationship strengths between all internal
people and the given external person. The results are not guaranteed to be sorted in any
way.</p>

          <h1 id="organizations">Organizations</h1>

<p>An organization in Affinity represents an external company that your team is in touch
with- this could be an organization you&rsquo;re trying to invest in, sell to, or establish a
relationship with.</p>

<p>An organization has many people associated with it - these are your team&rsquo;s points of
contacts at that organization. Just like people, organizations can be added to multiple
lists and can be assigned field values.</p>

<p>To make the data quality as good as possible, we have our own proprietary database of
organizations that we have developed through third-party partnerships and web scraping.
We use this database to minimize data entry for you as you use Affinity&rsquo;s CRM products.</p>

<p><strong>Note:</strong></p>

<ol>
<li> If you are looking to add or remove an organization from a list, please check out the
<a href="#list-entries">List Entries</a> section of the API.</li>
<li> If you are looking to modify a field value (one of the cells on Affinity&rsquo;s
spreadsheet), please check out the <a href="#field-values">Field Values</a> section of the API.</li>
</ol>

<h2 id="the-organization-resource">The organization resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">64779194</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain"</span><span class="p">:</span><span class="s2">"affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domains"</span><span class="p">:[</span><span class="s2">"affinity.co"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"crunchbase_uuid"</span><span class="p">:</span><span class="s2">"ca0e6bd5-7de2-0a26-f648-0bf66e88b05c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"global"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:[</span><span class="mi">89734</span><span class="p">,</span><span class="w"> </span><span class="mi">117270</span><span class="p">,</span><span class="w"> </span><span class="mi">138123</span><span class="p">,</span><span class="w"> </span><span class="mi">274492</span><span class="p">,</span><span class="w"> </span><span class="mi">304848</span><span class="p">,</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">389</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64779194</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"interaction_dates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_email_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-23T08:12:45.328-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_email_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_interaction_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-01-01T08:18:00.329-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"interactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-23T08:12:45.328-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"last_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"last_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"last_interaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">111</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"next_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">124</span><span class="p">,</span><span class="w">
        </span><span class="mi">125</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"first_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-01-01T08:18:00.329-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Each organization object has a unique <code class="prettyprint">id</code>. It also has a <code class="prettyprint">name</code>, <code class="prettyprint">domain</code> (the website
of the organization), and <code class="prettyprint">persons</code> associated with it. The <code class="prettyprint">domain</code> is an important
attribute from an automation perspective, as it helps Affinity automatically link all
the appropriate person objects to the organization.</p>

<p>Each organization also has a flag determining whether it&rsquo;s <code class="prettyprint">global</code> or not. As mentioned
above, Affinity maintains its own database of global organizations that each customer has
access to. Note that you cannot change the name or the domain of a <code class="prettyprint">global</code>
organization. You also cannot delete a <code class="prettyprint">global</code> organization.</p>

<p>Of course, if an organization is manually created by your team, all fields can be
modified and the organization can be deleted.</p>

<p>Dates of the most recent and upcoming interactions with an organization are available in the
<code class="prettyprint">interaction_dates</code> field. This data is only included when passing
<code class="prettyprint">with_interaction_dates=true</code> as a query parameter to the <code class="prettyprint">/organizations</code> or
the <code class="prettyprint">/organizations/{organization_id}</code> endpoints.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the organization object.</td>
</tr>
<tr>
<td>name</td>
<td>integer</td>
<td>The name of the organization (see below).</td>
</tr>
<tr>
<td>domain</td>
<td>string</td>
<td>The website name of the organization. This is used by Affinity to automatically associate person objects with an organization.</td>
</tr>
<tr>
<td>domains</td>
<td>string[]</td>
<td>An array of all the websites associated with the organization. These are also used to automatically associate person objects with an organization.</td>
</tr>
<tr>
<td>crunchbase_uuid</td>
<td>string</td>
<td>The <a href="https://data.crunchbase.com/docs/uuid">Crunchbase UUID</a> of the organization</td>
</tr>
<tr>
<td>person_ids</td>
<td>string[]</td>
<td>An array of unique identifiers of person that are associated with the organization</td>
</tr>
<tr>
<td>global</td>
<td>boolean</td>
<td>Returns whether this organization is a part of Affinity&rsquo;s global dataset of organizations. This is always false if the organization was created by you.</td>
</tr>
<tr>
<td>list_entries</td>
<td>ListEntry[]</td>
<td>An array of list entry resources associated with the organization, only returned as part of the <a href="#get-a-specific-organization">Get a specific organization</a> endpoint.</td>
</tr>
<tr>
<td>interaction_dates</td>
<td>object</td>
<td>An object with six string date fields representing the most recent and upcoming interactions with this organization: <code class="prettyprint">first_email_date</code>, <code class="prettyprint">last_email_date</code>, <code class="prettyprint">last_event_date</code>, <code class="prettyprint">last_interacton_date</code>, <code class="prettyprint">first_event_date</code>, and <code class="prettyprint">next_event_date</code>. Only returned when passing <code class="prettyprint">with_interaction_dates=true</code>.</td>
</tr>
<tr>
<td>interactions</td>
<td>object</td>
<td>An object with six fields nested underneath.  Each field corresponds to one of the six interactions, and includes nested fields for <code class="prettyprint">date</code> and <code class="prettyprint">person_ids</code> which indicates the internal people associated with that event.  Only returned when passing <code class="prettyprint">with_interaction_dates=true</code>.</td>
</tr>
</tbody></table>

<h2 id="search-for-organizations">Search for organizations</h2>

<p><code class="prettyprint">GET /organizations</code></p>

<p>Searches your team&rsquo;s data and fetches all the organizations that meet the search criteria.
The search term can be a part of an organization&rsquo;s name or domain.</p>

<p>This result is paginated. An initial request returns an object with two fields:
<code class="prettyprint">organizations</code> and <code class="prettyprint">next_page_token</code>. <code class="prettyprint">organizations</code> contains an array of organization
resources. The value of <code class="prettyprint">next_page_token</code> should be sent as the query parameter
<code class="prettyprint">page_token</code> in another request to retrieve the next page of results. While paginating
through results, each request must have identical query parameters other than the changing
<code class="prettyprint">page_token</code>. Otherwise, an <code class="prettyprint">Invalid page_token variable</code> error will be returned.</p>

<p>The absence of a <code class="prettyprint">next_page_token</code> indicates that all the records have been fetched,
though its presence does not necessarily indicate that there are <em>more</em> resources to be
fetched. The next page may be empty (but then <code class="prettyprint">next_page_token</code> would be <code class="prettyprint">null</code> to
confirm that there are no more resources).</p>

<p>Pass <code class="prettyprint">with_interaction_dates=true</code> as a query parameter to include dates of the most
recent and upcoming interactions with organizations. When this parameter is included,
organizations with no interactions will not be returned in the response.</p>

<p>You can filter by interaction dates by providing additional query parameters like
<code class="prettyprint">min_last_email_date</code> or <code class="prettyprint">max_next_event_date</code>. The value of these query parameters should
be ISO 8601 formatted date strings.</p>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations?term=affinity"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">64779194</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"domain"</span><span class="p">:</span><span class="s2">"affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"domains"</span><span class="p">:[</span><span class="s2">"affinity.co"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"crunchbase_uuid"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"global"</span><span class="p">:</span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1513682</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Brand Affinity Technologies"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"domain"</span><span class="p">:</span><span class="s2">"brandaffinity.net"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"domains"</span><span class="p">:[</span><span class="s2">"brandaffinity.net"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"crunchbase_uuid"</span><span class="p">:</span><span class="s2">"035ed4bb-7a8c-f713-5032-91a81a4b4bb9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"global"</span><span class="p">:</span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example pagination</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># To get the second page of results, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/organizations?term=affinity&amp;page_token=eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span> -u :&lt;API-KEY&gt;
</code></pre>
<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>term</td>
<td>string</td>
<td>false</td>
<td>A string used to search all the organizations in your team&rsquo;s address book. This could be a name or a domain name.</td>
</tr>
<tr>
<td>with_interaction_dates</td>
<td>boolean</td>
<td>false</td>
<td>When true, interaction dates will be present on the returned resources. Only organizations that have interactions will be returned.</td>
</tr>
<tr>
<td><code class="prettyprint">{min,max}_&lt;interaction&gt;_date</code></td>
<td>string</td>
<td>false</td>
<td>Only returns organizations with the given interaction type above or below the given value. <code class="prettyprint">interaction</code> can be one of <code class="prettyprint">first_email</code>, <code class="prettyprint">last_email</code>, <code class="prettyprint">last_interaction</code>, <code class="prettyprint">last_event</code>, <code class="prettyprint">first_event</code>, or <code class="prettyprint">next_event</code>.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code class="prettyprint">next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An object with two fields: <code class="prettyprint">organizations</code> and <code class="prettyprint">next_page_token</code>. <code class="prettyprint">organizations</code> maps to
an array of all the organization resources that match the search criteria.
<code class="prettyprint">next_page_token</code> includes a token to be sent along with the next request as the
<code class="prettyprint">page_token</code> parameter to fetch the next page of results. When <code class="prettyprint">with_interaction_dates</code> is
passed in the returned resources will have <code class="prettyprint">interaction_dates</code> fields.</p>

<h2 id="get-a-specific-organization">Get a specific organization</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations/64779194"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">64779194</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain"</span><span class="p">:</span><span class="s2">"affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domains"</span><span class="p">:[</span><span class="s2">"affinity.co"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"crunchbase_uuid"</span><span class="p">:</span><span class="s2">"ca0e6bd5-7de2-0a26-f648-0bf66e88b05c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"global"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:[</span><span class="mi">89734</span><span class="p">,</span><span class="w"> </span><span class="mi">117270</span><span class="p">,</span><span class="w"> </span><span class="mi">138123</span><span class="p">,</span><span class="w"> </span><span class="mi">274492</span><span class="p">,</span><span class="w"> </span><span class="mi">304848</span><span class="p">,</span><span class="w"> </span><span class="err">...</span><span class="p">],</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">389</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64779194</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /organizations/{organization_id}</code></p>

<p>Fetches an organization with a specified <code class="prettyprint">organization_id</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the organization that needs to be retrieved.</td>
</tr>
<tr>
<td>with_interaction_dates</td>
<td>boolean</td>
<td>false</td>
<td>When true, interaction dates will be present on the returned resources.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The organization object corresponding to the <code class="prettyprint">organization_id</code>.</p>

<h2 id="create-a-new-organization">Create a new organization</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Acme Corporation"</span> <span class="se">\</span>
  -d <span class="nv">domain</span><span class="o">=</span><span class="s2">"acme.co"</span> <span class="se">\</span>
  -d person_ids[]<span class="o">=</span>38706
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120611418</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Corporation"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acme.co"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"acme.co"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"crunchbase_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">POST /organizations</code></p>

<p>Creates a new organization with the supplied parameters.</p>

<p><strong>Note:</strong> If you are looking to add an existing organization to a list, please check
the <a href="#list-entries">List Entries</a> section of the API.</p>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>The name of the organization.</td>
</tr>
<tr>
<td>domain</td>
<td>string</td>
<td>false</td>
<td>The domain name of the organization.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of persons that the new organization will be associated with.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The organization resource that was just created by a successful request.</p>

<h2 id="update-an-organization">Update an organization</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations/120611418"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Acme Corp."</span> <span class="se">\</span>
  -d person_ids[]<span class="o">=</span>38706 <span class="se">\</span>
  -d person_ids[]<span class="o">=</span>89734 <span class="se">\</span>
  -X <span class="s2">"PUT"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120611418</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Corp."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acme.co"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"acme.co"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"crunchbase_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">,</span><span class="w"> </span><span class="mi">89734</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">PUT /organizations/{organization_id}</code></p>

<p>Updates an existing organization with <code class="prettyprint">organization_id</code> with the supplied parameters.</p>

<p><strong>Note:</strong></p>

<p>If you are looking to add an existing organization to a list, please check the
<a href="#list-entries">List Entries</a> section of the API.</p>

<p>If you are trying to add a person to an organization, the existing values for
<code class="prettyprint">person_ids</code> must also be passed into the endpoint.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the organization to be updated.</td>
</tr>
</tbody></table>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>false</td>
<td>The name of the organization.</td>
</tr>
<tr>
<td>domain</td>
<td>string</td>
<td>false</td>
<td>The domain name of the organization.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of persons that the organization will be associated with.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The organization resource that was just updated through a successful request.</p>

<h2 id="delete-an-organization">Delete an organization</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations/120611418"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -X <span class="s2">"DELETE"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">DELETE /organizations/{organization_id}</code></p>

<p>Deletes an organization with a specified <code class="prettyprint">organization_id</code>.</p>

<p><strong>Note:</strong></p>

<ol>
<li> An appropriate error will be returned if you are trying to delete a <code class="prettyprint">global</code> organization.</li>
<li> This will also delete all the field values, if any, associated with the organization.
Such field values exist linked to either global or list-specific fields.</li>
</ol>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the organization that needs to be deleted.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p><code class="prettyprint">{success: true}</code>.</p>

<h2 id="get-global-fields">Get global fields</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations/fields"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">662</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Potential Users"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value_type"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropdown_options"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">700</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Leads"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropdown_options"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2988</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Last Funding Date"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value_type"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"allows_multiple"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropdown_options"</span><span class="p">:[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /organizations/fields</code></p>

<p>Fetches an array of all the global fields that exist on organizations.
If you aren&rsquo;t sure about what fields are, please read the
<a href="#fields">Fields</a> section first.</p>

<h3 id="parameters">Parameters</h3>

<p>None.</p>

<h3 id="returns">Returns</h3>

<p>An array of the fields that exist on all organizations for your team.</p>

          <h1 id="opportunities">Opportunities</h1>

<p>An opportunity in Affinity represents a potential future sale or deal for your team. It
can have multiple people - your team&rsquo;s main points of contacts for the opportunity - and
organization(s) associated with it. Opportunities are generally used to track the progress
of and revenue generated from sales and deals in your pipeline with a specific organization.</p>

<p>Unlike people and organizations, an opportunity can only belong to a single list and, thus,
does not have global fields. This list must be provided at the creation of the opportunity.
If the list or list entry containing the opportunity gets deleted, then the opportunity subsequently gets
deleted. If a user does not have permission to access a list with opportunities, the user cannot view
any of those opportunities.</p>

<p><strong>Note:</strong></p>

<ol>
<li> If you are looking to remove an opportunity from a list, note that deleting an opportunity
is the same as removing an opportunity from a list because an opportunity can only exist on
a single list with a single list entry.</li>
<li> If you are looking to modify a field value (one of the cells on Affinity&rsquo;s
spreadsheet), please check out the <a href="#field-values">Field Values</a> section of the API.</li>
</ol>

<h2 id="the-opportunity-resource">The opportunity resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity Opp"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">21442</span><span class="p">],</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">442313</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4974</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-03T23:02:46.412-08:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Each opportunity object has a unique <code class="prettyprint">id</code>. It also has a <code class="prettyprint">name</code>, <code class="prettyprint">persons_ids</code> and
<code class="prettyprint">organization_ids</code> associated with it, and an array of <code class="prettyprint">list_entries</code>. An important attribute to note
is <code class="prettyprint">list_entries</code>. Because an opportunity can only belong to a single list, <code class="prettyprint">list_entries</code>
can only have one list entry.</p>

<p>Of course, all fields can be modified and the opportunity can be deleted.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the opportunity object.</td>
</tr>
<tr>
<td>name</td>
<td>integer</td>
<td>The name of the opportunity (see below).</td>
</tr>
<tr>
<td>person_ids</td>
<td>number[]</td>
<td>An array of unique identifiers for persons that are associated with the opportunity</td>
</tr>
<tr>
<td>organization_ids</td>
<td>number[]</td>
<td>An array of unique identifiers for organizations that are associated with the opportunity</td>
</tr>
<tr>
<td>list_entries</td>
<td>ListEntry[]</td>
<td>An array of list entry resources associated with the opportunity (at most 1 list entry). If the</td>
</tr>
</tbody></table>

<p>user corresponding to the API key does not have access to the list, this will be empty.</p>

<h2 id="search-for-opportunities">Search for opportunities</h2>

<p><code class="prettyprint">GET /opportunities</code></p>

<p>Searches your team&rsquo;s data and fetches all the opportunities that meet the search criteria.
The search term can be a part of an opportunity&rsquo;s name.</p>

<p>This result is paginated. An initial request returns an object with two fields:
<code class="prettyprint">opportunities</code> and <code class="prettyprint">next_page_token</code>. <code class="prettyprint">opportunities</code> contains an array of opportunity
resources. The value of <code class="prettyprint">next_page_token</code> should be sent as the query parameter
<code class="prettyprint">page_token</code> in another request to retrieve the next page of results. While paginating
through results, each request must have identical query parameters other than the changing
<code class="prettyprint">page_token</code>. Otherwise, an <code class="prettyprint">Invalid page_token variable</code> error will be returned.</p>

<p>The absence of a <code class="prettyprint">next_page_token</code> indicates that all the records have been fetched,
though its presence does not necessarily indicate that there are <em>more</em> resources to be
fetched. The next page may be empty (but then <code class="prettyprint">next_page_token</code> would be <code class="prettyprint">null</code> to
confirm that there are no more resources).</p>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/opportunities?term=affinity"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"opportunities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity Opp"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">3526824</span><span class="p">],</span><span class="w">
      </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">128367168</span><span class="p">],</span><span class="w">
      </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">442313</span><span class="p">,</span><span class="w">
          </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124736</span><span class="p">,</span><span class="w">
          </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4974</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-03T23:02:46.412-08:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity Opp 2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">5326214</span><span class="p">],</span><span class="w">
      </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">128367168</span><span class="p">],</span><span class="w">
      </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">442421</span><span class="p">,</span><span class="w">
          </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124736</span><span class="p">,</span><span class="w">
          </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4974</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
          </span><span class="s2">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-08T23:02:46.412-08:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example pagination</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># To get the second page of results, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/opportunities?term=affinity&amp;page_token=eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span> -u :&lt;API-KEY&gt;
</code></pre>
<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>term</td>
<td>string</td>
<td>false</td>
<td>A string used to search all the opportunities in your team&rsquo;s database. This could be part of a name.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code class="prettyprint">next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An object with two fields: <code class="prettyprint">opportunities</code> and <code class="prettyprint">next_page_token</code>. <code class="prettyprint">opportunities</code> maps to
an array of all the opportunity resources that match the search criteria.
<code class="prettyprint">next_page_token</code> includes a token to be sent along with the next request as the
<code class="prettyprint">page_token</code> parameter to fetch the next page of results.</p>

<h2 id="get-a-specific-opportunity">Get a specific opportunity</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/opportunities/117"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity Opp"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">3526824</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">128367168</span><span class="p">],</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">442313</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124736</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4974</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-03T23:02:46.412-08:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /opportunities/{opportunity_id}</code></p>

<p>Fetches an opportunity with a specified <code class="prettyprint">opportunity_id</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the opportunity that needs to be retrieved.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The opportunity object corresponding to the <code class="prettyprint">opportunity_id</code>.</p>

<h2 id="create-a-new-opportunity">Create a new opportunity</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/opportunities"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Penny Opportunity"</span> <span class="se">\</span>
  -d <span class="nv">list_id</span><span class="o">=</span>6645 <span class="se">\</span>
  -d person_ids[]<span class="o">=</span>38706 <span class="se">\</span>
  -d organization_ids[]<span class="o">=</span>21442
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Penny Opportunity"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">21442</span><span class="p">],</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">999886</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1127776</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6645</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-07T16:32:35.794-08:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">POST /opportunities</code></p>

<p>Creates a new opportunity with the supplied parameters.</p>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>The name of the opportunity.</td>
</tr>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>An unique identifier of the list that the new opportunity will be associated with. This list must be of type opportunity.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of persons that the new opportunity will be associated with.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organizations that the new opportunity will be associated with.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The opportunity resource that was just created by a successful request (without <code class="prettyprint">person_ids</code> and <code class="prettyprint">organization_ids</code>).</p>

<h2 id="update-an-opportunity">Update an opportunity</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/opportunities/120611418"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Penny Opp"</span> <span class="se">\</span>
  -d person_ids[]<span class="o">=</span>38706 <span class="se">\</span>
  -d person_ids[]<span class="o">=</span>89734 <span class="se">\</span>
  -X <span class="s2">"PUT"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Penny Opp"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">,</span><span class="w"> </span><span class="mi">89734</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">21442</span><span class="p">],</span><span class="w">
  </span><span class="s2">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">999886</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1127776</span><span class="p">,</span><span class="w">
      </span><span class="s2">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6645</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-07T16:32:35.794-08:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">PUT /opportunities/{opportunity_id}</code></p>

<p>Updates an existing opportunity with <code class="prettyprint">opportunity_id</code> with the supplied parameters.</p>

<p><strong>Note:</strong></p>

<p>If you are trying to add a person to an opportunity, the existing values for
<code class="prettyprint">person_ids</code> must also be passed into the endpoint.</p>

<p>If you are trying to add an organization to an opportunity, the existing values for
<code class="prettyprint">organization_ids</code> must also be passed into the endpoint.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the opportunity to be updated.</td>
</tr>
</tbody></table>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>false</td>
<td>The name of the opportunity.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of persons that the opportunity will be associated with.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organizations that the opportunity will be associated with.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The opportunity resource that was just updated through a successful request.</p>

<h2 id="delete-an-opportunity">Delete an opportunity</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/opportunities/120611418"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -X <span class="s2">"DELETE"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">DELETE /opportunities/{opportunity_id}</code></p>

<p>Deletes an opportunity with a specified <code class="prettyprint">opportunity_id</code>.</p>

<p><strong>Note:</strong></p>

<ol>
<li> This will also delete all the field values, if any, associated with the opportunity.</li>
</ol>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the opportunity that needs to be deleted.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p><code class="prettyprint">{success: true}</code>.</p>

          <h1 id="field-values">Field Values</h1>

<p>Field values are displayed in Affinity as the data in the cells of an Affinity
spreadsheet.</p>

<p>As an example for how a field value is created:</p>

<ol>
<li> Assume there exists a list of people called &ldquo;Business Development Leads&rdquo;.</li>
<li> A custom field called &ldquo;Deal Size&rdquo; is created on this list. Fields are visually displayed
as columns.</li>
<li> A person X is added to this list. This action creates a list entry for this person.</li>
<li> A value, 50,000, is entered in the cell corresponding to person X in the Deal Size
column.</li>
<li> 50,000 is now a field value tied to the list entry corresponding to person X,
and the &ldquo;Deal Size&rdquo; field.</li>
</ol>

<p><strong>Note:</strong></p>

<p>By default, Affinity creates some fields for you automatically. These include
Location, Industry, Job Titles, and more.</p>

<h2 id="the-field-value-resource">The field value resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">#</span><span class="w"> </span><span class="err">Global</span><span class="w"> </span><span class="err">Location</span><span class="w"> </span><span class="err">Field</span><span class="w"> </span><span class="err">Value</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">250616</span><span class="p">,</span><span class="w">
  </span><span class="s2">"field_id"</span><span class="p">:</span><span class="mi">337</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"California"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"continent"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"street_address"</span><span class="p">:</span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">#</span><span class="w"> </span><span class="err">List</span><span class="w"> </span><span class="err">Specific</span><span class="w"> </span><span class="err">Dropdown</span><span class="w"> </span><span class="err">Field</span><span class="w"> </span><span class="err">Value</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">177634</span><span class="p">,</span><span class="w">
  </span><span class="s2">"field_id"</span><span class="p">:</span><span class="mi">751</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="mi">605</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="w">
    </span><span class="s2">"text"</span><span class="p">:</span><span class="s2">"Low"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rank"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"color"</span><span class="p">:</span><span class="mi">4</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Each field value object has a unique <code class="prettyprint">id</code>.</p>

<p>A field value also has <code class="prettyprint">field_id</code>, <code class="prettyprint">entity_id</code>, and <code class="prettyprint">list_entry_id</code>
attributes that give it the appropriate associations, as noted in the example above.</p>

<p>A field value can take on many different kinds of values, depending on the
<code class="prettyprint">field</code> value type (see <a href="#fields">Fields</a> section).</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the field value object.</td>
</tr>
<tr>
<td>field_id</td>
<td>integer</td>
<td>The unique identifier of the field the value is associated with.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>The unique identifier of the person, organization, or opportunity object the field value is associated with.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>The unique identifier of the list entry object the field value is associated with. This only exists if the field the value is associated with is list-specific.</td>
</tr>
<tr>
<td>value</td>
<td>One of many</td>
<td>The value attribute can take on many different types, depending on the field <code class="prettyprint">value_type</code>. See below for reference.</td>
</tr>
</tbody></table>

<h3 id="field-value-value-types">Field Value value types</h3>

<p>The Field Type specified below corresponds to the <code class="prettyprint">value_type</code> of a field.</p>

<table><thead>
<tr>
<th>Value Type</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dropdown</td>
<td>string</td>
<td>This represents a value in a dropdown field.</td>
</tr>
<tr>
<td>number</td>
<td>integer</td>
<td>This represents a value in a number field.</td>
</tr>
<tr>
<td>person</td>
<td>integer</td>
<td>This represents a value in a person field.</td>
</tr>
<tr>
<td>organization</td>
<td>integer</td>
<td>This represents a value in an organization field.</td>
</tr>
<tr>
<td>location</td>
<td>object</td>
<td>This represents a value in a location field - it&rsquo;s an object comprising the following keys: <code class="prettyprint">street_address</code>, <code class="prettyprint">city</code>, <code class="prettyprint">state</code>, <code class="prettyprint">country</code>, all of which take string values.</td>
</tr>
<tr>
<td>date</td>
<td>datetime</td>
<td>This represents a value in a date field.</td>
</tr>
<tr>
<td>text</td>
<td>string</td>
<td>This represents a value in a text field.</td>
</tr>
</tbody></table>

<h2 id="get-field-values">Get field values</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/field-values?person_id=38706"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">250616</span><span class="p">,</span><span class="w">
    </span><span class="s2">"field_id"</span><span class="p">:</span><span class="mi">337</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"California"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"continent"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"street_address"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">250615</span><span class="p">,</span><span class="w">
    </span><span class="s2">"field_id"</span><span class="p">:</span><span class="mi">1284</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"Computer Software"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">32760</span><span class="p">,</span><span class="w">
    </span><span class="s2">"field_id"</span><span class="p">:</span><span class="mi">198</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="mi">38659</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">177634</span><span class="p">,</span><span class="w">
    </span><span class="s2">"field_id"</span><span class="p">:</span><span class="mi">751</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="mi">605</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">71</span><span class="p">,</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="s2">"Low"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rank"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"color"</span><span class="p">:</span><span class="mi">4</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /field-values</code></p>

<p>Returns all field values attached to a <code class="prettyprint">person</code>, <code class="prettyprint">organization</code>, <code class="prettyprint">opportunity</code>, or <code class="prettyprint">list_entry</code>.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique id that represents a person object whose field values are to be retrieved.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique id that represents an organization object whose field values are to be retrieved.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique id that represents an opportunity object whose field values are to be retrieved.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique id that represents a list entry object whose field values are to be retrieved.</td>
</tr>
</tbody></table>

<p><strong>Note:</strong></p>

<ol>
<li> custom*: Only one of <code class="prettyprint">person_id</code>, <code class="prettyprint">organization_id</code>, <code class="prettyprint">opportunity_id</code>, or <code class="prettyprint">list_entry_id</code> can be specified to the endpoint.</li>
<li> If a <code class="prettyprint">person_id</code>, <code class="prettyprint">organization_id</code>, or <code class="prettyprint">opportunity_id</code> is specified, the endpoint returns all field values tied to these entities - including those that are associated with all list entries that
exist for the given person or organization. Opportunities can only have one list entry.</li>
</ol>

<h3 id="returns">Returns</h3>

<p>An array of all the field values associated with the supplied <code class="prettyprint">person</code>,
<code class="prettyprint">organization</code>, <code class="prettyprint">opportunity</code>, or <code class="prettyprint">list_entry</code>.</p>

<h2 id="create-a-new-field-value">Create a new field value</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/field-values"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">field_id</span><span class="o">=</span>1284 <span class="se">\</span>
  -d <span class="nv">value</span><span class="o">=</span><span class="s2">"Architecture"</span> <span class="se">\</span>
  -d <span class="nv">entity_id</span><span class="o">=</span>38706
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20406836</span><span class="p">,</span><span class="w">
  </span><span class="s2">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1284</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Architecture"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">POST /field-values</code></p>

<p>Creates a new field value with the supplied parameters.</p>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field_id</td>
<td>integer</td>
<td>true</td>
<td>The unique identifier of the field (column) that the field value is associated with.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique identifier of the entity (person, organization, or opportunity) that the field value is associated with.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the list entry (list row) that the field value is associated with. Only specify the <code class="prettyprint">list_entry_id</code> if the field that the field value is associated with is list specific.</td>
</tr>
<tr>
<td>value</td>
<td>custom</td>
<td>true</td>
<td>See the <a href="#the-field-value-resource">field value resource</a> section for all value types. The value specified must correspond to the <code class="prettyprint">value_type</code> of the supplied <code class="prettyprint">field</code>.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The field value resource that was just created through this request.</p>

<h2 id="update-a-field-value">Update a field value</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/field-values/20406836"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">value</span><span class="o">=</span><span class="s2">"Healthcare"</span> <span class="se">\</span>
  -X <span class="s2">"PUT"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20406836</span><span class="p">,</span><span class="w">
  </span><span class="s2">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1284</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Healthcare"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">PUT /field-values/{field_value_id}</code></p>

<p>Updates the existing field value with <code class="prettyprint">field_value_id</code> with the supplied parameters.</p>

<p><strong>Note:</strong></p>

<p>If you are looking to add an existing organization to a list, please check the
<a href="#list-entries">List Entries</a> section of the API.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field_value_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the field value that needs to be updated.</td>
</tr>
</tbody></table>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>custom</td>
<td>true</td>
<td>See the <a href="#the-field-value-resource">field value resource</a> section for all value types. The value specified must correspond to the <code class="prettyprint">value_type</code> of the supplied <code class="prettyprint">field</code>.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The field value object that was just updated through this request.</p>

<h2 id="delete-a-field-value">Delete a field value</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/field-values/20406836"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -X <span class="s2">"DELETE"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">DELETE /field-values/{field_value_id}</code></p>

<p>Deletes an field value with the specified <code class="prettyprint">field_value_id</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field_value_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the field value that needs to be deleted.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p><code class="prettyprint">{success: true}</code>.</p>

          <h1 id="field-value-changes">Field Value Changes</h1>

<p>Field value changes allow you to see historical changes to the values of fields in Affinity.
This is especially useful for tracking progress through statuses (e.g. Lead &ndash;&gt; Closed Won).</p>

<p><strong>Note:</strong>
Not all fields can track historical changes; you can see if a field does so by looking at the
<code class="prettyprint">track_changes</code> attribute in the <a href="#get-fields">field resource</a>. The API will return an
appropriate error if the field doesn&rsquo;t support historical tracking.</p>

<h2 id="the-field-value-change-resource">The field value change resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50822718</span><span class="p">,</span><span class="w">
  </span><span class="s2">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">236333</span><span class="p">,</span><span class="w">
  </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">261131046</span><span class="p">,</span><span class="w">
  </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15709964</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jane@gmail.com"</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"changed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-11T15:46:50.963-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1607859</span><span class="p">,</span><span class="w">
    </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Each field value change object has a unique <code class="prettyprint">id</code>.</p>

<p>A field value change also has <code class="prettyprint">field_id</code>, <code class="prettyprint">entity_id</code>, <code class="prettyprint">list_entry_id</code> attributes that give it the
appropriate associations, as noted in the example above.</p>

<p><strong>Note:</strong>
There are some extra attributes returned by this endpoint; they will be deprecated soon and
should not be used.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the field value change object.</td>
</tr>
<tr>
<td>field_id</td>
<td>integer</td>
<td>The unique identifier of the field the value change is associated with.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>The unique identifier of the person, organization, or opportunity object the field value change is associated with.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>The unique identifier of the list entry object the field value change is associated with.</td>
</tr>
<tr>
<td>action_type</td>
<td>One of several</td>
<td>Describes the action behind this field value change. This attribute can take on several different types; see below for reference.</td>
</tr>
<tr>
<td>value</td>
<td>One of many</td>
<td>Represents the field&rsquo;s value. This attribute can take on many different types, depending on the field <code class="prettyprint">value_type</code>. When the action type is Delete, value represents the old value; otherwise, it represents the new value.</td>
</tr>
</tbody></table>

<h3 id="field-value-change-action-types">Field Value Change action types</h3>

<p>The action type specified below corresponds to the <code class="prettyprint">action_type</code> of a field value change.
This attribute filters the field value changes that are returned. For example,
when an <code class="prettyprint">action_type</code> of 0 is specified, all the field value change objects that are returned
will represent when a field value has been created.</p>

<table><thead>
<tr>
<th>Action Type</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Create</td>
</tr>
<tr>
<td>1</td>
<td>Delete</td>
</tr>
<tr>
<td>2</td>
<td>Update</td>
</tr>
</tbody></table>

<h2 id="get-field-values-changes">Get field values changes</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/field-value-changes?field_id=236333"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50822718</span><span class="p">,</span><span class="w">
    </span><span class="s2">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">236333</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">261131046</span><span class="p">,</span><span class="w">
    </span><span class="s2">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15709964</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jane@gmail.com"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"changed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-11T15:46:50.963-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1607859</span><span class="p">,</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /field-value-changes</code></p>

<p>Returns all field values changes attached to a specific field.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field_id</td>
<td>integer</td>
<td>true</td>
<td>A unique id that represents a field object whose field values changes are to be retrieved.</td>
</tr>
<tr>
<td>action_type</td>
<td>integer</td>
<td>false</td>
<td>An integer that filters field value changes that were created with this specific action type (see above).</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An array of all the field values changes associated with the supplied field.</p>

          <h1 id="notes">Notes</h1>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22984</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">,</span><span class="w"> </span><span class="mi">89734</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="s2">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had a lunch meeting with Jane and John today. They are looking to invest."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28 00:38:41 -0700"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Just like field values, notes are used to keep track of state on an entity. They could be
notes manually taken from due diligence, a meeting, or a call. Or, notes could be used to
store logged activity from a prospect&rsquo;s visit to your website.</p>

<h2 id="the-note-resource">The note resource</h2>

<p>A note object contains <code class="prettyprint">content</code>, which is a string containing the note body. In
addition, a note can be associated with multiple people, organizations, or opportunities.
Each person, organization, or opportunity will display linked notes on their profiles.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the note object.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>The unique identifier of the person object who created the note.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of person objects that are associated with the note.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of organization objects that are associated with the note.</td>
</tr>
<tr>
<td>opportunity_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of opportunity objects that are associated with the note.</td>
</tr>
<tr>
<td>parent_id</td>
<td>integer</td>
<td>The unique identifier of the note that this note is a reply to. If this field is <code class="prettyprint">null</code>, the note is not a reply. Note replies will never have values for <code class="prettyprint">opportunity_ids</code>, <code class="prettyprint">person_ids</code>, and <code class="prettyprint">organization_ids</code>. Only the parent note is associated with an entity. You can fetch the parent note resource to identify the root entity.</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>The string containing the content of the note.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The string representing the time when the note was created.</td>
</tr>
</tbody></table>

<h2 id="get-all-notes">Get all notes</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/notes"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">22984</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="mi">860197</span><span class="p">,</span><span class="w">
    </span><span class="s2">"person_ids"</span><span class="p">:[</span><span class="mi">38706</span><span class="p">,</span><span class="mi">89734</span><span class="p">],</span><span class="w">
    </span><span class="s2">"organization_ids"</span><span class="p">:[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
    </span><span class="s2">"opportunity_ids"</span><span class="p">:[</span><span class="mi">117</span><span class="p">],</span><span class="w">
    </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content"</span><span class="p">:</span><span class="s2">"Had a lunch meeting with Jane ... "</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2017-03-28 00:38:41 -0700"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">22983</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="mi">860196</span><span class="p">,</span><span class="w">
    </span><span class="s2">"person_ids"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"organization_ids"</span><span class="p">:[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
    </span><span class="s2">"opportunity_ids"</span><span class="p">:[</span><span class="mi">115</span><span class="p">],</span><span class="w">
    </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content"</span><span class="p">:</span><span class="s2">"Had a lunch meeting @ Google ... "</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-28 00:38:41 -0700"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /notes</code></p>

<p>Returns all field values attached to a <code class="prettyprint">person</code>, <code class="prettyprint">organization</code>, <code class="prettyprint">opportunity</code>.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents a Person that was tagged in the retrieved notes.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Organization that was tagged in the retrieved notes.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Opportunity that was tagged in the retrieved notes.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Affinity user whose created notes should be retrieved.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An array of all the note resources available to you.</p>

<h2 id="get-a-specific-note">Get a specific note</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Returns the note with the specified `note_id`</span>
curl <span class="s2">"https://api.affinity.co/notes/22984"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">22984</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:[</span><span class="mi">38706</span><span class="p">,</span><span class="mi">89734</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="s2">"opportunity_ids"</span><span class="p">:[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="s2">"Had a lunch meeting with Jane ... "</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2017-03-28 00:38:41 -0700"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /notes/{note_id}</code></p>

<p>Gets the details for a specific note given the existing note id.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note_id</td>
<td>integer</td>
<td>true</td>
<td>The unique identifier of the note object to be retrieved.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The details of the note resource corresponding to the note id specified in the path
parameter. An appropriate error is returned if an invalid note is supplied.</p>

<h2 id="create-a-new-note">Create a new note</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/notes"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d person_ids[]<span class="o">=</span>38706 <span class="se">\</span>
  -d person_ids[]<span class="o">=</span>624289 <span class="se">\</span>
  -d organization_ids[]<span class="o">=</span>120611418 <span class="se">\</span>
  -d opportunity_ids[]<span class="o">=</span>167 <span class="se">\</span>
  -d <span class="nv">content</span><span class="o">=</span><span class="s2">"Had a lunch meeting with Jane and </span><span class="se">\</span><span class="s2">
              John today. They want to invest in </span><span class="se">\</span><span class="s2">
              Acme Corp."</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22984</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">,</span><span class="w"> </span><span class="mi">89734</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="s2">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had a lunch meeting with Jane ... "</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28 00:38:41 -0700"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">POST /notes</code></p>

<p>Creates a new note with the supplied parameters.</p>

<p>Affinity&rsquo;s Gmail Chrome Extension allows users to save an email as a note in Affinity.
This same functionality is exposed in our API via the <code class="prettyprint">gmail_id</code> parameter. Passing in the
<code class="prettyprint">id</code> of a Gmail
<a href="https://developers.google.com/gmail/api/v1/reference/users/messages">message</a> will
automatically sync the email to Affinity (if it hasn&rsquo;t synced with Affinity already)
and associate it with the newly created note. (Make sure that Affinity has access to the
account that owns the Gmail mesage.) A note associated with an email cannot have any
<code class="prettyprint">content</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of person objects that are associated with the new note.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organization objects that are associated with the new note.</td>
</tr>
<tr>
<td>opportunity_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of opportunity objects that are associated with the new note.</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>false</td>
<td>The string containing the content of the new note.</td>
</tr>
<tr>
<td>gmail_id</td>
<td>string</td>
<td>false</td>
<td>The id of a Gmail message to save as the content of the note.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>false</td>
<td>The id of a Person resource who should be recorded as the author of the note. Must be a person who can access Affinity. If not provided the creator defaults to the owner of the API key.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>false</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the creation time to be recorded for the note. If not provided, defaults to the current time.</td>
</tr>
</tbody></table>

<p>Note that either <code class="prettyprint">content</code> or <code class="prettyprint">gmail_id</code> must be specified.</p>

<h3 id="returns">Returns</h3>

<p>The note resource created through this request.</p>

<h2 id="update-a-note">Update a note</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/notes/22984"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">content</span><span class="o">=</span><span class="s2">"Had another meeting with Jane and </span><span class="se">\</span><span class="s2">
              John today."</span>
  -X <span class="s2">"PUT"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22984</span><span class="p">,</span><span class="w">
  </span><span class="s2">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">,</span><span class="w"> </span><span class="mi">89734</span><span class="p">],</span><span class="w">
  </span><span class="s2">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="s2">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had another meeting with Jane ... "</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28 00:38:41 -0700"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">PUT /notes/{notes_id}</code></p>

<p>Updates the content of an existing note with <code class="prettyprint">note_id</code> with the supplied <code class="prettyprint">content</code> parameter.</p>

<p><strong>Note:</strong></p>

<p>You cannot update the content of a note that has mentions. You also cannot update the content
of a note associated with an email.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the note that needs to be updated.</td>
</tr>
</tbody></table>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>content</td>
<td>string</td>
<td>true</td>
<td>The new content of the note.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The note object that was just updated through this request.</p>

<h2 id="delete-a-note">Delete a note</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/notes/22984"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -X <span class="s2">"DELETE"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">DELETE /notes/{note_id}</code></p>

<p>Deletes a note with a specified <code class="prettyprint">note_id</code>.</p>

<p><strong>Note:</strong> An appropriate error will be returned if you are not the creator of the note you
are trying to delete.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the note that needs to be deleted.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p><code class="prettyprint">{success: true}</code>.</p>

          <h1 id="entity-files">Entity Files</h1>

<p>Entity files are files uploaded to a relevant entity. Possible files, for example, would be a pitch deck for an opportunity or a physical mail correspondence for a person.</p>

<h2 id="the-entity-file-resource">The entity file resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43212</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JohnDoeFriends.csv"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">993</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"organization_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"opportunity_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-01-25T09:59:35.288-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the entity file object.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the file.</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>The size of the file in bytes.</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>The unique identifier of the person corresponding to the entity file.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>The unique identifier of the organization corresponding to the entity file.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>The unique identifier of the opportunity corresponding to the entity file.</td>
</tr>
<tr>
<td>uploader_id</td>
<td>integer</td>
<td>The unique identifier of the user who created the entity file.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The time when the entity file was created.</td>
</tr>
</tbody></table>

<h2 id="get-all-files">Get all files</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/entity-files"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"entity_files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43212</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JohnDoeFriends.csv"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">993</span><span class="p">,</span><span class="w">
            </span><span class="s2">"person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">142</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opportunity_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-01-25T09:59:35.288-08:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">131</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Import.csv"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">227224</span><span class="p">,</span><span class="w">
            </span><span class="s2">"person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38654</span><span class="p">,</span><span class="w">
            </span><span class="s2">"organization_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opportunity_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-13T12:52:51.539-08:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnt9LCJwYWdlX3NpemUiOjUwMCwib2Zmc2V0Ijo1MDB9"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example pagination</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># To get the second page of results, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/entity-files?page_token=eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span> -u :&lt;API-KEY&gt;
</code></pre>
<p><code class="prettyprint">GET /entity-files</code></p>

<p>Returns all entity files within your organization. This result will be
an object with two fields: <code class="prettyprint">entity_files</code> and <code class="prettyprint">next_page_token</code>. <code class="prettyprint">entity_files</code> maps to an
array of all the entity file resources. The value of <code class="prettyprint">next_page_token</code> should be sent as the
query parameter <code class="prettyprint">page_token</code> in another request to retrieve the next page of results. While
paginating through results, each request must have identical query parameters other than the
changing <code class="prettyprint">page_token</code>. Otherwise, an <code class="prettyprint">Invalid page_token variable</code> error will be returned.</p>

<p>The absence of a <code class="prettyprint">next_page_token</code> indicates that all the records have been fetched,
though its presence does not necessarily indicate that there are <em>more</em> resources to be
fetched. The next page may be empty (but then <code class="prettyprint">next_page_token</code> would be <code class="prettyprint">null</code> to
confirm that there are no more resources).</p>

<p>Can optionally be filtered to return only entity files associated with a specific <code class="prettyprint">person</code>,
<code class="prettyprint">organization</code>, or <code class="prettyprint">opportunity</code>.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code class="prettyprint">next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>false</td>
<td>A unique id that represents a Person whose associated files should be retrieved.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>false</td>
<td>A unique id that represents an Organization whose associated files should be retrieved.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>false</td>
<td>A unique id that represents an Opportunity whose associated files should be retrieved.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An object with two fields: <code class="prettyprint">entity_files</code> and <code class="prettyprint">next_page_token</code>. <code class="prettyprint">entity_files</code> maps to an
array of all the entity file resources. See description for more details on pagination.</p>

<h2 id="get-a-specific-file">Get a specific file</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/entity-files/43212"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43212</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GoogleFriends.csv"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">993</span><span class="p">,</span><span class="w">
  </span><span class="s2">"person_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"organization_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"opportunity_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-01-25T09:59:35.288-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /entity-files/{entity_file_id}</code></p>

<p>Fetches an entity with a specified <code class="prettyprint">entity_file_id</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entity_file_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the entity file that needs to be retrieved.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The entity file resource corresponding to the <code class="prettyprint">entity_file_id</code>.</p>

<h2 id="download-file">Download File</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/entity-files/download/12345"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  --location place_to_store_file.png
</code></pre>
<p><code class="prettyprint">GET /entity-files/download/{entity_file_id}</code></p>

<p>Downloads an entity file with a specified <code class="prettyprint">entity_file_id</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entity_file_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the entity file that needs to be downloaded.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The actual entity file corresponding to the <code class="prettyprint">entity_file_id</code>.</p>

<h2 id="upload-files">Upload files</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/entity-files"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -F files[]<span class="o">=</span>@Pitch.pdf <span class="se">\</span>
  -F files[]<span class="o">=</span>@10_01_18_meeting.txt <span class="se">\</span>
  -F <span class="nv">person_id</span><span class="o">=</span>4113456
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">POST /entity-files</code></p>

<p>Uploads files attached to the entity with the given id.</p>

<p>The file will display on the entity&rsquo;s profile, provided that the entity is not a person internal to the user&rsquo;s organization.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>File</td>
<td>false</td>
<td>A singular file to be uploaded, formatted as form data (multipart/form-data).</td>
</tr>
<tr>
<td>files</td>
<td>File[]</td>
<td>false</td>
<td>An array of files to be uploaded, formatted as form data (multipart/form-data).</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the person object to attach the file(s) to.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the organization object to attach the file(s) to.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the opportunity object to attach the file(s) to.</td>
</tr>
</tbody></table>

<p><strong>Note:</strong></p>

<ol>
<li> Files must be attached to a single entity, specified using one of the three entity id parameters (<code class="prettyprint">person_id</code>, <code class="prettyprint">organization_id</code>, and <code class="prettyprint">opportunity_id</code>).</li>
<li> At least one file must be uploaded using the <code class="prettyprint">file</code> or <code class="prettyprint">files</code> parameters.</li>
</ol>

<h3 id="returns">Returns</h3>

<p><code class="prettyprint">{&quot;success&quot;: true}</code></p>

          <h1 id="webhooks">Webhooks</h1>

<p>Webhooks allow you to be notified of events that happen on your Affinity instance. For example, your app can be notified when a list is created, a field value is updated, a person is deleted, and more. These events will fire immediately after the corresponding action takes place.</p>

<h2 id="the-webhook-subscription-resource">The webhook subscription resource</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"list.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"person.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"opportunity.created"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Each webhook subscription object has a unique <code class="prettyprint">id</code>. It also has a <code class="prettyprint">webhook_url</code> and <code class="prettyprint">subscriptions</code> associated with it.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the webhook subscription object.</td>
</tr>
<tr>
<td>webhook_url</td>
<td>string</td>
<td>The URL to which the webhooks are sent to.</td>
</tr>
<tr>
<td>subscriptions</td>
<td>string[]</td>
<td>An array of webhook events that are enabled for that endpoint. An empty array indicates subscription to all webhook events. See <a href="#supported-webhook-events">below</a> for the complete list of supported webhook events.</td>
</tr>
</tbody></table>

<h2 id="supported-webhook-events">Supported Webhook Events</h2>

<table><thead>
<tr>
<th>Object Type</th>
<th>Events</th>
</tr>
</thead><tbody>
<tr>
<td>List</td>
<td><code class="prettyprint">list.created</code>, <code class="prettyprint">list.updated</code>, <code class="prettyprint">list.deleted</code></td>
</tr>
<tr>
<td>List Entry</td>
<td><code class="prettyprint">list_entry.created</code>, <code class="prettyprint">list_entry.deleted</code></td>
</tr>
<tr>
<td>Note</td>
<td><code class="prettyprint">note.created</code>, <code class="prettyprint">note.updated</code>, <code class="prettyprint">note.deleted</code></td>
</tr>
<tr>
<td>Field</td>
<td><code class="prettyprint">field.created</code>, <code class="prettyprint">field.updated</code>, <code class="prettyprint">field.deleted</code></td>
</tr>
<tr>
<td>Field Value</td>
<td><code class="prettyprint">field_value.created</code>, <code class="prettyprint">field_value.updated</code>, <code class="prettyprint">field_value.deleted</code></td>
</tr>
<tr>
<td>Person</td>
<td><code class="prettyprint">person.created</code>, <code class="prettyprint">person.updated</code>, <code class="prettyprint">person.deleted</code></td>
</tr>
<tr>
<td>Organization</td>
<td><code class="prettyprint">organization.created</code>, <code class="prettyprint">organization.updated</code>, <code class="prettyprint">organization.deleted</code></td>
</tr>
<tr>
<td>Opportunity</td>
<td><code class="prettyprint">opportunity.created</code>, <code class="prettyprint">opportunity.updated</code>, <code class="prettyprint">opportunity.deleted</code></td>
</tr>
<tr>
<td>Entity File</td>
<td><code class="prettyprint">file.created</code>, <code class="prettyprint">file.deleted</code></td>
</tr>
</tbody></table>

<h2 id="get-all-webhook-subscriptions">Get all webhook subscriptions</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/webhook"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook-create"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"list.created"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person.created"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"organization.created"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"opportunity.created"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook-all"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /webhook</code></p>

<p>Returns all of your organization&rsquo;s webhook subscriptions.</p>

<h2 id="get-a-specific-webhook-subscription">Get a specific webhook subscription</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/webhook/1234"</span> -u :&lt;API-KEY&gt;
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"list.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"person.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"opportunity.created"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">GET /webhook/{webhook_subscription_id}</code></p>

<p>Gets the details for a specific webhook subscription given the specified <code class="prettyprint">webhook_subscription_id</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>webhook_subscription_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the webhook subscription that needs to be retrieved.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The webhook subscription object corresponding to the <code class="prettyprint">webhook_subscription_id</code>.</p>

<h2 id="create-a-new-webhook-subscription">Create a new webhook subscription</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/webhook/subscribe"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -d <span class="nv">webhook_url</span><span class="o">=</span><span class="s2">"https://hooks.example.com/webhook"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">POST /webhook/subscribe</code></p>

<p>Creates a new webhook subscription with the supplied parameters. If the endpoint returns an invalid response, the webhook creation will fail.</p>

<p><strong>Note:</strong></p>

<p>There is currently a limit of 3 webhook subscriptions.</p>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>webhook_url</td>
<td>string</td>
<td>true</td>
<td>The URL to which the webhooks will be sent to.</td>
</tr>
<tr>
<td>subscriptions</td>
<td>string[]</td>
<td>false</td>
<td>An array of webhook events that will be enabled for that endpoint. Leave out this parameter or pass an empty array to subscribe to all webhook events. You can find the complete list of supported webhook events <a href="#supported-webhook-events">here</a>.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The webhook subscription object that was just created from this successful request.</p>

<h2 id="delete-a-specific-webhook-subscription">Delete a specific webhook subscription</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/webhook/1234"</span> <span class="se">\</span>
  -u :&lt;API-KEY&gt; <span class="se">\</span>
  -X <span class="s2">"DELETE"</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code class="prettyprint">DELETE /webhook/{webhook_subscription_id}</code></p>

<p>Deletes a webhook subscription with a specified <code class="prettyprint">webhook_subscription_id</code>.</p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>webhook_subscription_id</td>
<td>integer</td>
<td>true</td>
<td>The unique id of the webhook subscription that needs to be deleted.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p><code class="prettyprint">{success: true}</code>.</p>

<h2 id="limitations">Limitations</h2>

<p>There is a limit of three webhook subscriptions per Affinity instance. If you have any questions at all regarding webhooks, please reach out to <a href="mailto:support@affinity.co">support@affinity.co</a>.</p>

          <h1 id="additional-materials">Additional Materials</h1>

<h2 id="sdk-and-native-client-support">SDK and Native Client support</h2>

<p>We currently don&rsquo;t have native clients or SDKs for different languages, but given the
rise in the number of REST clients for different languages, we have compiled some
resources to make the API super easy to implement for your use case.</p>

<p>Here are some links to REST clients in the most popular languages:</p>

<ol>
<li> <a href="https://github.com/rest-client/rest-client">Ruby</a></li>
<li> <a href="http://requests.readthedocs.io/en/master/">Python</a></li>
<li> <a href="https://github.com/cujojs/rest">Javascript</a></li>
<li> <a href="https://github.com/dghubble/sling">Go</a></li>
</ol>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
